<div ng-controller="ExperimentMenuOverlayCtrl">
  <div class="side-menu-header-container">
    <div class="text-container x" ui-sref="home">&lt; BACK TO HOME</div>
    <div class="close-container x"><span class="close-side-menu x" toggle-sidemenu>x</span></div>
  </div>
  <div class="side-menu-content-container">
    <div class="side-menu-name-container">
      <div class="side-menu-exp-name H1" ng-controller="EditExperimentPropertiesCtrl">
        <form name="expForm">

          <div class="exp-name-container">
            <span class="exp-name H1 truncate" ng-click="focusExpName()" ng-show="!editExpNameMode">
              {{exp.name | truncate:20}}
            </span>
            <input
              type="text"
              class="exp-name H1"
              required
              ng-model="exp.name"
              ng-show="editExpNameMode"
              ng-blur="saveExperiment(exp)"
              on-key-enter="saveExperiment(exp)"
              focus-on="editExpNameMode">
          </div>

            <div class="text-center message-container">
              <span  ng-show="success" class="help-block B1">
                <span class="text-success">{{success}}</span>
              </span>
            </div>
            <div ng-show="errors">
              <span class="help-block B1">
                <span class="text-danger">{{errors}}</span>
              </span>
            </div>

          </form>
      </div>
      <div ng-if="status == 'COMPLETED'" class="side-menu-exp-status B2">{{runStatus}}{{exp.started_at | amCalendar}}</div>
      <div ng-if="status != 'COMPLETED'" class="side-menu-exp-status B1">{{runStatus}}</div>
    </div>
    <div class="side-menu-menu-container">
      <div class="side-menu-menu-item">
        <div class="B1B">EXPERIMENT PROPERTIES
          <span sidemenu-suboption menu-template="app/views/experiment/experiment-properties-suboption.html" ng-click="showProperties=!showProperties" class="sidemenu-show-text">{{showHide}}</span></div>
      </div>
      <div id="new-sub-menu" ng-show="showProperties" ng-class="{'sidemenu-property-container': true, 'ng-show':showProperties}">
        Properties come here .. !
      </div>
      <div class="side-menu-menu-item">
        <div class="B1B" ui-sref="edit-protocol({id: params.id})" toggle-sidemenu>
          <span ng-show="status === 'NOT_STARTED'">EDIT PROTOCOL</span>
          <span ng-show="status === 'RUNNING' || status === 'COMPLETED'">VIEW PROTOCOL</span>
        </div>
      </div>
      <div class="side-menu-menu-item">
        <div class="B1B">PLATE SETUP</div>
      </div>
      <div class="side-menu-menu-item run-exp">
        <div class="B1B" ng-click="runReady = !runReady">
          <span ng-class="{'lid-open': lidOpen}" ng-show="status === 'NOT_STARTED'">RUN EXPERIMENT</span>
          <span class="B2 lid-open-message" ng-show="lidOpen && status === 'NOT_STARTED'"><br>Hardware lid is open</span>
          <span ng-show="status === 'RUNNING'" ui-sref="run-experiment({id: params.id, chart: 'amplification', max_cycle: maxCycle})">EXPERIMENT STATUS</span>
          <span ng-show="status === 'COMPLETED'" ui-sref="run-experiment({id: params.id, chart: 'amplification', max_cycle: maxCycle})">VIEW RESULTS</span>
        </div>
        <button ng-show="runReady && status === 'NOT_STARTED' && !lidOpen" ui-sref="run-experiment({id: params.id, chart: 'amplification', max_cycle: maxCycle})" toggle-sidemenu class="B1 success">CONFIRM</button>
      </div>
    </div>
    <div class="side-menu-button-container">
      <button class="side-menu-button SH" export-experiment experiment-id="params.id">EXPORT</button>
      <button class="side-menu-button SH second-button" ng-click="deleteExperiment(params.id)">DELETE</button>
    </div>
  </div>
<!--
  <div class="menu-overlay-menu">
    <div class="long-tail-container">
      <div class="long-tail"></div>
    </div>
    <div class="menu-overlay-menu-item"
         sidemenu-suboption menu-template="app/views/experiment/experiment-properties-suboption.html">
      <div class="tail-container">
        <div class="tail">
        </div>
      </div>
      <div class="ball"></div>
      <div class="menu-text simplifica">
        <a class="noselect">
          EXPERIMENT PROPERTIES
        </a>
        <span class="arrow-right"></span>
      </div>
    </div>
    <div class="menu-overlay-menu-item" ng-show="status">
      <div class="tail-container">
        <div class="tail">
        </div>
      </div>
      <div class="ball"></div>
      <div class="menu-text simplifica">
        <a ui-sref="edit-protocol({id: params.id})" toggle-sidemenu class="noselect">
          <span ng-show="status === 'NOT_STARTED'">EDIT PROTOCOL</span>
          <span ng-show="status === 'RUNNING' || status === 'COMPLETED'">VIEW PROTOCOL</span>
        </a>
      </div>
    </div> -->
    <!-- <div class="menu-overlay-menu-item">
      <div class="tail-container">
        <div class="tail">
        </div>
      </div>
      <div class="ball"></div>
      <div class="menu-text simplifica">
        <a href="#/plate-setup/1">PLATE SETUP</a>
      </div>
    </div> -->
  <!--  <div class="menu-overlay-menu-item special" ng-show="status">
      <div class="tail-container">
        <div class="tail">
        </div>
      </div>
      <div class="ball">
      </div>
      <div class="menu-text simplifica">
        <a ui-sref="run-experiment({id: params.id, chart: 'amplification', max_cycle: maxCycle})" toggle-sidemenu class="noselect">
          <span ng-show="status === 'NOT_STARTED'">RUN EXPERIMENT</span>
          <span ng-show="status === 'RUNNING'">EXPERIMENT STATUS</span>
          <span ng-show="status === 'COMPLETED'">VIEW RESULTS</span>
        </a>
      </div>
    </div>
  </div>

  <a ui-sref="home" class="home-link">
    <img src="/images/home.png" alt="">
  </a>

  <div class="menu-overlay-all-options">
    <div class="menu-overlay-options-content">
      <div class="title sansa">
        EXPERIMENT OPTIONS
      </div>
      <div class="exp-option" export-experiment experiment-id="params.id">EXPORT...</div>
      <div class="exp-option" duplicate-experiment experiment-id="params.id">DUPLICATE EXPERIMENT</div>
      <div class="exp-option" ng-click="deleteExperiment(params.id)">DELETE EXPERIMENT</div>
    </div>
  </div>

  <test-in-progress></test-in-progress>
-->
</div>
