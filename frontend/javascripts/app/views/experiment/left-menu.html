<div ng-controller="ExperimentMenuOverlayCtrl">
  <div class="side-menu-header-container">
    <div class="text-container x" ui-sref="home">&lt; BACK TO HOME</div>
    <div class="close-container x"><span class="close-side-menu x" toggle-sidemenu>x</span></div>
  </div>

  <div class="side-menu-content-container">
    <div class="side-menu-name-container">
      <ng-include src="'app/views/experiment/experiment-properties-name.html'"></ng-include>
      <div ng-if="status == 'COMPLETED'" class="side-menu-exp-status B2">{{runStatus}}{{exp.started_at | amCalendar}}</div>
      <div ng-if="status != 'COMPLETED'" class="side-menu-exp-status B1">{{runStatus}}</div>
    </div>
    <div class="side-menu-menu-container">
      <div class="side-menu-menu-item">
        <div class="B1B">EXPERIMENT PROPERTIES
          <span ng-click="showProperties=!showProperties" class="sidemenu-show-text">{{showHide}}</span></div>
      </div>
      <div  id="new-sub-menu" ng-show="showProperties" ng-class="{'sidemenu-property-container': true, 'ng-show':showProperties}">
        <ng-include src="'app/views/experiment/experiment-properties-suboption.html'"></ng-include>
      </div>
      <div class="side-menu-menu-item">
        <div class="B1B" ui-sref="edit-protocol({id: params.id})" toggle-sidemenu>
          <span ng-show="status === 'NOT_STARTED'">EDIT PROTOCOL</span>
          <span ng-show="status === 'RUNNING' || status === 'COMPLETED'">VIEW PROTOCOL</span>
        </div>
      </div>
      <div class="side-menu-menu-item">
        <div class="B1B">PLATE SETUP</div>
      </div>
      <div class="side-menu-menu-item run-exp">
        <div class="B1B" ng-click="runReady = !runReady">
          <span ng-class="{'lid-open': lidOpen}" ng-show="status === 'NOT_STARTED'">RUN EXPERIMENT</span>
          <span class="B2 lid-open-message" ng-show="lidOpen && status === 'NOT_STARTED'"><br>Hardware lid is open</span>
          <span ng-show="status === 'RUNNING'" ui-sref="run-experiment({id: params.id, chart: 'amplification', max_cycle: maxCycle})">EXPERIMENT STATUS</span>
          <span ng-show="status === 'COMPLETED'" ui-sref="run-experiment({id: params.id, chart: 'amplification', max_cycle: maxCycle})">VIEW RESULTS</span>
        </div>
        <button ng-show="runReady && status === 'NOT_STARTED' && !lidOpen" ui-sref="run-experiment({id: params.id, chart: 'amplification', max_cycle: maxCycle})" toggle-sidemenu class="B1 success">CONFIRM</button>
      </div>
    </div>
    <div class="side-menu-button-container">
      <button class="side-menu-button SH" export-experiment experiment-id="params.id">EXPORT</button>
      <button class="side-menu-button SH second-button" ng-click="deleteExperiment(params.id)">DELETE</button>
    </div>
  </div>
</div>
