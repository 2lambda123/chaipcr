<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Welcome to Open qPCR</title>
<link rel="stylesheet" type="text/css" href="stylesheets/static.css">
<script src="javascripts/jquery-1.11.1.min.js" type="text/javascript"></script>
<script src="javascripts/main.js" type="text/javascript"></script>
<script type="text/javascript" language="javascript">
<!--
$(document).ready(function(){

	// This part was written to align the image and no more used.
	/*setTimeout(function() {
		$('#splash').center()
	}, 1);
    $(window).bind('resize', function() {
        $('#splash').center({transition:0});
    });*/

	var interval = setInterval(function () {
		checkConnection();
	}, 10000);

	var checkConnection = function() {
		$.get("http://localhost:8000/network/eth0")
			.done(function(data) {
				if(data.state) {
					//$("#ip-address").text("IP ADDRESS: " + data.state.address);
					$(".ip-text").text("IP ADDRESS: ");
					$(".ip-value").text(data.state.address);
				} else {
					$("#ip-address").text("No ethernet connection.")
				}
			})
			.fail(function() {
				$("#ip-address").text("No ethernet connection.");
			});
	}

	checkConnection();

	var getDevice = function() {
		$.get("http://localhost/device")
		.done(function(data) {
			if(data.software.version) {
				$(".version-text").text("V. ");
				$(".version-value").text(data.software.version);
			}
			if(data.serial_number) {
				$(".serial-text").text("SERIAL: ");
				$(".serial-value").text(data.serial_number);
			}
		})
		.fail(function() {

		});
	}
	getDevice();
});
//-->
</script>
</head>

<body>
<div id="splash">
	<img src="images/openqpcr_logo_dark.svg">
</div>
<div id="ip">
	<span id="ip-address">
		<span class="span-text ip-text"></span>
		<span class="span-value ip-value"></span>
	</span>
	<span id="version">
		<span class="span-text version-text"></span>
		<span class="span-value version-value"></span>
	</span>
	<span id="serial">
		<span class="span-text serial-text"></span>
		<span class="span-value serial-value"></span>
	</span>
</div>
</body>

</html>
